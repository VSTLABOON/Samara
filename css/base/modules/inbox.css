.inbox-container {
    position: fixed; top: 0; right: 0; height: 100vh;
    width: min(450px, 100vw);
    background: rgba(10, 10, 14, 0.95); backdrop-filter: blur(40px);
    z-index: var(--z-modal);
    transform: translateX(100%);
    transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
    border-left: 1px solid var(--glass-border);
    display: flex; flex-direction: column;
}
.inbox-container.open { transform: translateX(0); }

.inbox-header { 
    padding: clamp(20px, 4vw, 28px) clamp(16px, 3vw, 24px); 
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    background: linear-gradient(135deg, rgba(30, 30, 40, 0.8) 0%, rgba(20, 20, 30, 0.9) 100%);
    flex-shrink: 0;
}
.inbox-header h2 {
    font-family: 'Crimson Pro', serif; font-size: clamp(1.2rem, 4vw, 1.5rem);
    font-weight: 500; margin: 0; color: rgba(255, 255, 255, 0.95);
}

.inbox-close {
    background: rgba(255, 255, 255, 0.08); border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 10px; width: 36px; height: 36px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    color: rgba(255, 255, 255, 0.7);
}

.inbox-blocks { padding: clamp(16px, 3vw, 20px); overflow-y: auto; flex: 1; }

.message-block {
    background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
    border-radius: 16px; margin-bottom: clamp(12px, 3vw, 20px);
    cursor: pointer; transition: all 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
    overflow: hidden;
}
.message-block:hover {
    background: rgba(255,255,255,0.06); transform: translateY(-4px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); border-color: rgba(255,255,255,0.1);
}
.message-block.unread {
    border-left: 3px solid var(--accent-pink); background: rgba(244, 114, 182, 0.03);
}

.block-outer { 
    padding: clamp(16px, 3vw, 24px); display: flex; justify-content: space-between; align-items: center; 
}

.block-title { 
    font-family: 'Crimson Pro', serif; font-size: clamp(1rem, 3vw, 1.2rem); 
    color: var(--text-secondary); transition: color 0.4s; 
}
.message-block:hover .block-title { color: var(--text-primary); }

.message-block.expanded {
    background: rgba(255,255,255,0.08); transform: scale(1.02);
    margin: clamp(16px, 4vw, 30px) 0; box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
    z-index: 10;
}

.block-indicator {
    width: 6px; height: 6px; border-radius: 50%; background: transparent;
}
.unread .block-indicator { background: #fff; box-shadow: 0 0 8px #fff; }

.block-content {
    max-height: 0; opacity: 0;
    transition: max-height 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.6s ease;
    overflow: hidden;
}
.expanded .block-content { max-height: 800px; opacity: 1; }

.message-inner {
    padding: 0 clamp(16px, 3vw, 24px) clamp(20px, 4vw, 30px); 
    border-top: 1px solid rgba(255,255,255,0.05);
    padding-top: clamp(16px, 3vw, 24px); 
    font-family: 'Crimson Pro', serif; font-size: clamp(1rem, 3vw, 1.15rem);
    line-height: 1.7; color: rgba(255,255,255,0.85);
}

.inbox-blocks.has-active-focus .message-block:not(.expanded) {
    opacity: 0.2; filter: blur(2px); transform: scale(0.95); pointer-events: none;
}